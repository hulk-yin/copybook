(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{128:function(e,t,n){e.exports=n(280)},133:function(e,t,n){},134:function(e,t,n){},204:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i),c=(n(133),n(62)),l=n(35),s=(n(48),n(134),n(11)),u=n(9),d=(n(204),n(44)),m=n(45),f=n(68),h=n(65),p=n(69),v=n(66),g=n(205),y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).element=void 0,n.writer=void 0,n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.element&&this.write()}},{key:"componentDidUpdate",value:function(){this.element&&this.write()}},{key:"write",value:function(){var e=this.props.children;this.writer=g.create(this.element,e,{width:300,height:300,padding:30,showOutline:!0}),this.writer.animateCharacter()}},{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.children,i=Object(v.a)(t,["visible","children"]);return n&&a?r.a.createElement(u.h,Object.assign({visible:!0,style:{height:"400px"}},i),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",ref:function(t){e.element=t},style:{marginTop:"50",border:"1px solid #999999"},width:"300",height:"300",id:"grid-background-target"},r.a.createElement("line",{x1:"0",y1:"0",x2:"300",y2:"300",strokeDasharray:"5 3",stroke:"#DDD"}),r.a.createElement("line",{x1:"300",y1:"0",x2:"0",y2:"300",strokeDasharray:"5 3",stroke:"#DDD"}),r.a.createElement("line",{x1:"150",y1:"0",x2:"150",y2:"300",strokeDasharray:"5 3",stroke:"#DDD"}),r.a.createElement("line",{x1:"0",y1:"150",x2:"300",y2:"150",strokeDasharray:"5 3",stroke:"#DDD"})),r.a.createElement("div",{style:{color:"#999999999",whiteSpace:"pre-line"}},"\n                \u7b14\u753b\u987a\u5e8f\u4e3a\u6977\u4f53\u7b80\u4f53\n                \u7248\u6743\u4fe1\u606f@https://hanziwriter.org\n                ")):null}}]),t}(r.a.Component),w=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.size,a=t.type,i=t.font,o=t.children,c=this.state.visible;return r.a.createElement("div",null,r.a.createElement("svg",{onClick:function(){e.setState({visible:!0})},xmlns:"http://www.w3.org/2000/svg",style:{margin:2,border:"1px solid #999999"},width:n,height:n,id:"grid-background-target"},r.a.createElement("g",{id:"matts"},"mi"===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{x1:"0",y1:"0",x2:n,y2:n,strokeDasharray:"".concat(n/60," ").concat(n/100),stroke:"#DDD"}),r.a.createElement("line",{x1:n,y1:"0",x2:"0",y2:n,strokeDasharray:"".concat(n/60," ").concat(n/100),stroke:"#DDD"})):null,r.a.createElement("line",{x1:n/2,y1:"0",x2:n/2,y2:n,strokeDasharray:"".concat(n/60," ").concat(n/100),stroke:"#DDD"}),r.a.createElement("line",{x1:"0",y1:n/2,x2:n,y2:n/2,strokeDasharray:"".concat(n/60," ").concat(n/100),stroke:"#DDD"})),r.a.createElement("text",{x:.5*n,y:.5*n*1.22,style:{dominantBaseline:"middle",textAnchor:"middle"},fontSize:.75*n,fontFamily:i},o)),r.a.createElement(y,{visible:c,onClose:function(){e.setState({visible:!1})}},o))}}]),t}(r.a.Component),b=n(14),E=n.n(b),k=n(26),D=(n(207),function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement(u.a,{onClick:Object(k.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onPrint(),t.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:window.print(),window._czc&&window._czc.push(["_trackEvent","help","click","\u6253\u5370",1,"print_btn"]);case 5:case"end":return t.stop()}}),t)})))},"\u6253\u5370"),r.a.createElement(u.h,{visible:i,onClose:function(){o(!1),e.onCancel()},style:{}}," ",r.a.createElement("div",{id:"preview-page",onClick:function(){o(!1),e.onCancel()}})))});window._czc=window._czc||[];var x,O=function(){var e=Object(a.useState)(window.localStorage.getItem("current.words")||""),t=Object(s.a)(e,2),n=t[0],i=t[1],o=parseInt(window.localStorage.getItem("setting.size"),10)||160,c=window.localStorage.getItem("setting.type")||"tian",l=window.localStorage.getItem("setting.font-family")||"FZKTJW",d=n.split("\n").map((function(e){var t=e.length%12;if(0===t&&e)return e;var n=e+"                    ".slice(1,12-t+1);return console.log(n,e.length,16-t,n.length),n})).join("").split(""),m=d,f=Object(a.useState)(!1),h=Object(s.a)(f,2),p=h[0],v=h[1];return r.a.createElement("div",null,p?r.a.createElement("div",{className:"copybook-print"},r.a.createElement("div",{className:"copybook-page-box"},d.map((function(e,t){return r.a.createElement(w,{type:c,font:l,size:55,key:t},e)})))):null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{marginTop:45}},r.a.createElement(u.r,{style:{border:"1px dotted #CCC",padding:5,fontFamily:l,maxHeight:300},placeholder:"\u5728\u8fd9\u91cc\u8f93\u5165\u8981\u751f\u6210\u5b57\u4f53\u7684\u6587\u5b57",defaultValue:n,onChange:i,onBlur:function(e){window.localStorage.setItem("current.words",e),i(e)},autoHeight:!0}),r.a.createElement("div",{className:"copybook-page",id:"copybook-page"},r.a.createElement("div",{className:"copybook-page-box"},m.map((function(e,t){return r.a.createElement(w,{type:c,font:l,size:o,key:t},e)})))),r.a.createElement("div",{style:{color:"#999",margin:"10px",marginBottom:40}},"\u5b57\u4f53\u7248\u6743\uff1a \u65b9\u6b63\u5b57\u4f53\u5e93(https://www.foundertype.com/)")),r.a.createElement(u.i,{style:{position:"fixed",top:0,width:"100%"},rightContent:r.a.createElement(D,{onPrint:function(){return v(!0)},onCancel:function(){return v(!1)}})},"\u6c49\u5b57\u5b57\u5e16")))},j=[{label:"\u65b9\u6b63\u6977\u4f53\u7b80\u4f53",value:"FZKTJW",offset:{x:1,y:1.09}}];n(208);window._czc=window._czc||[];var T=function(){var e=Object(a.useState)(parseInt(window.localStorage.getItem("setting.size"),10)||60),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(window.localStorage.getItem("setting.type")||"tian"),c=Object(s.a)(o,2),l=c[0],d=c[1],m=Object(a.useState)(window.localStorage.getItem("setting.font-family")||"FZKTJW"),f=Object(s.a)(m,2),h=f[0],p=f[1],v=j.map((function(e){var t=e.label;return{label:t,labelText:t,value:e.value}}));return r.a.createElement("div",{className:"App"},r.a.createElement(u.i,null,"\u8bbe\u7f6e"),r.a.createElement("div",null,r.a.createElement(u.t,null),r.a.createElement(u.u,null,r.a.createElement(u.n,{showNumber:!0,max:window.visualViewport?10*Math.floor((window.visualViewport.width-80)/10):300,min:40,value:n,step:10,onChange:function(e){window.localStorage.setItem("setting.size",e),clearTimeout(x),x=setTimeout((function(){window._czc&&window._czc.push(["_trackEvent","setting","size","\u5b57\u4f53\u5927\u5c0f",e,"stepper"])}),3e3),i(e)}})),r.a.createElement(u.t,null),r.a.createElement(u.u,null,r.a.createElement(u.m,{values:["\u7530\u5b57\u683c","\u7c73\u5b57\u683c"],selectedIndex:"mi"===l?1:0,onChange:function(e){var t=e.nativeEvent,n=t.selectedSegmentIndex,a=t.value,r=1===n?"mi":"tian";d(r),window.localStorage.setItem("setting.type",r),window._czc&&window._czc.push(["_trackEvent","setting","type",a,1,"bt_"+r])}})),r.a.createElement(u.t,null),r.a.createElement(u.u,null,r.a.createElement(u.j,{data:v,value:[h],cols:1,onOk:function(e){var t=e[0];window.localStorage.setItem("setting.font-family",t);var n=v.filter((function(t){return t.value===e[0]})).map((function(e){return e.labelText}))[0];window._czc&&window._czc.push(["_trackEvent","setting","font",n,1,"font_select"]),p(t)}},r.a.createElement(u.a,{style:{fontFamily:h}},"\u9009\u62e9\u5b57\u4f53-",v.filter((function(e){return e.value===h})).map((function(e){return e.label})))))))},S=(n(209),function(e){var t=e.size,n=void 0===t?"middle":t,a=e.type,i=e.className,o=void 0===i?"":i;return r.a.createElement("i",{className:"iconfont icon-".concat(a," icon-").concat(n).concat(o?" "+o:""," ")})}),M=function(e){var t=e.children,n=e.history,a=e.location,i=(Object(v.a)(e,["children","history","location"]),a.pathname);return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"fixed",height:"100%",width:"100%",top:0}},r.a.createElement(u.p,{unselectedTintColor:"#949494",tintColor:"#33A3F4",barTintColor:"white"},r.a.createElement(u.p.Item,{title:"\u8ba1\u5212",key:"inspect",icon:r.a.createElement(S,{size:"large",type:"scan"}),selectedIcon:r.a.createElement(S,{size:"large",type:"scan"}),selected:1===i.indexOf("task"),onPress:function(){n.push("/task-clock")}},1===i.indexOf("task")?t:null),r.a.createElement(u.p.Item,{title:"\u5b57\u5e16",key:"hanzi",icon:r.a.createElement(S,{size:"large",type:"zhong-o"}),selectedIcon:r.a.createElement(S,{size:"large",type:"zhong"}),selected:"/"===i||"/hanzi"===i,onPress:function(){n.push("/hanzi")}},"/hanzi"===i?t:null),r.a.createElement(u.p.Item,{title:"\u8bbe\u7f6e",key:"setting",icon:r.a.createElement(S,{size:"large",type:"setting"}),selectedIcon:r.a.createElement(S,{size:"large",type:"setting"}),selected:"/setting"===i,onPress:function(){n.push("/setting")}},"/setting"===i?t:null))))},C=function(){var e,t;if(!navigator.mediaDevices)return r.a.createElement("div",null,"\u8bf7\u4f7f\u7528Chrome \u7b49\u6d4f\u89c8\u5668\u83b7\u53d6\u66f4\u597d\u7684\u4f53\u9a8c\u6548\u679c");var n=Object(a.useState)("\u6211"),i=Object(s.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(200),d=Object(s.a)(l,1)[0],m=localStorage.getItem("setting.font-family");return Object(a.useEffect)((function(){var n;return t&&navigator.mediaDevices.enumerateDevices().then((function(e){return e.filter((function(e){return"videoinput"===e.kind}))[0]})).then((function(e){var t=e.deviceId;return navigator.mediaDevices.getUserMedia({audio:!1,video:{deviceId:t,width:500,height:500}})})).then((function(a){if(n=a,t&&e){t.srcObject=a;var r=e.getContext("2d");if(r){!function e(){r.clearRect(0,0,375,375);var t=(375-d)/2,n=375-t;r.fillStyle="rgba(40, 40, 40, 0.6)",r.fillRect(0,0,375,375),r.clearRect(t,t,d-2,d-2),r.strokeStyle="#666666",r.strokeRect(t,t,d-2,d-2),r.strokeStyle="#666666",r.setLineDash([d/40,d/40]),r.moveTo(187.5,t),r.lineTo(187.5,n),r.moveTo(t,187.5),r.lineTo(n,187.5),r.stroke(),r.strokeStyle="#999999",r.moveTo(t,t),r.lineTo(n,n),r.moveTo(t,n),r.lineTo(n,t),r.stroke(),r.setLineDash([0,0]),r.textAlign="center",r.textBaseline="middle",r.font=.7*d+"px "+m,r.strokeStyle="red",r.strokeText(o,187.5,187.5*1.09),requestAnimationFrame(e)}()}}})),function(){n&&n.getVideoTracks()[0].stop()}})),r.a.createElement("div",null,r.a.createElement(u.i,null,"\u5b9e\u7528\u6027\u529f\u80fd\uff0c\u6709\u95ee\u9898\u8bf7\u5fae\u4fe1\u7fa4\u53cd\u9988"),r.a.createElement(u.f,{defaultValue:o,onChange:function(e){return c(e?e[0]:"")}}),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("video",{autoPlay:!0,style:{width:"100%"},ref:function(e){t=e}}),r.a.createElement("canvas",{style:{position:"absolute",top:0,left:0},id:"myCanvas",width:375,height:375,ref:function(t){e=t}})))},I=n(38),z=(n(210),function(){function e(){Object(d.a)(this,e),this.db=void 0,this.db=new Promise((function(e,t){var n=window.indexedDB.open("study");n.onsuccess=function(t){var n=t.target.result;e(n)},n.onupgradeneeded=function(t){var n=t.target.result,a=n.createObjectStore("task-list",{keyPath:"id",autoIncrement:!0});a.createIndex("name","name",{unique:!1}),a.createIndex("startDate","startDate",{unique:!1}),a.createIndex("endDate","endDate",{unique:!1}),e(n)},n.onerror=function(e){t(e)}}))}return Object(m.a)(e,[{key:"load",value:function(){var e=Object(k.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store;case 2:return t=e.sent,n=t.getAll(),e.next=6,new Promise((function(e,t){n.onsuccess=function(){return e(n.result)},n.onerror=t}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(k.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store;case 2:return n=e.sent,a=n.add(t),e.next=6,new Promise((function(e,t){a.onsuccess=function(t){e(!0)},a.onerror=function(e){console.log(e),t(e)}}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(k.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store;case 2:return n=e.sent,a=n.put(t),e.next=6,new Promise((function(e,t){a.onsuccess=function(t){e(a.result)},a.onerror=t}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(k.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.store;case 2:e.sent.delete(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=Object(k.a)(E.a.mark((function e(t){var n,a,r,i,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startDate,a=t.endDate,r=void 0===a?n:a,e.next=3,this.store;case 3:return i=e.sent,o=i.getAll(),e.next=7,new Promise((function(e,t){o.onsuccess=function(t){e(o.result.filter((function(e){return n>=e.startDate&&r<=e.endDate})).sort((function(e,t){return e.startTime-t.startTime})))},o.onerror=t}));case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"store",get:function(){return this.db.then((function(e){return e.transaction(["task-list"],"readwrite").objectStore("task-list")}))}}]),e}()),F=n(15),Y=n.n(F),P=new z,W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:parseInt(Y()(new Date).format("YYYYMMDD"));return P.query({startDate:e,endDate:e})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:540;return[Math.floor(e/60),e%60].map((function(e){return e<10?"0"+e:e})).join(":")},A=function(e,t){var n=Y()(e).toDate();return n.setMinutes(t),n},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(I.a)({from:3355443,to:13421772},t),a=n.from,r=void 0===a?3355443:a,i=n.to,o=void 0===i?13421772:i,c=e.replace(/[^\d]/g,(function(e){return e.charCodeAt(0).toString()})),l=parseFloat(c)%o,s=l<r?l+r:l,u="000000".concat(s.toString(16)).match(/\0*([\dA-Fa-f]{6,6})$/);return"#".concat(u?u[0]:s.toString(16))},V=function(e){var t=e.data;return r.a.createElement(u.g,null,t.map((function(e){return r.a.createElement(u.g.Item,{key:e.id},e.name,r.a.createElement(u.g.Item.Brief,null,_(e.startTime)," - ",_(e.endTime)))})))},U=(n(211),function(e,t){return-2*Math.PI/360*((360/e*t+180)%360)}),q=function(e,t){var n,a,r=t.radius,i=t.parts,o=Object(s.a)(t.size,3),c=o[0],l=o[1],u=o[2],d=void 0===u?1:u,m=t.textOffset;e.beginPath();for(var f=0;f<i;f++){var h=U(i,f);n=Math.sin(h)*(r+c),a=Math.cos(h)*(r+c),e.moveTo(Math.floor(n),Math.floor(a)),n=Math.sin(h)*(r+l),a=Math.cos(h)*(r+l),e.lineTo(Math.floor(n),Math.floor(a)),d&&(e.lineWidth=d),m&&(n=Math.sin(h)*(r+l+m),a=Math.cos(h)*(r+l+m),60===i?f%5===0&&e.fillText((f||i).toString(),Math.floor(n),Math.floor(a)):e.fillText((f||i).toString(),Math.floor(n),Math.floor(a)))}e.stroke()},N=function(e,t){var n,a,r=t.radius,i=t.parts,o=t.postion,c=t.offset,l=void 0===c?{}:c,s=t.lineWidth,u=void 0===s?1:s,d=l.start,m=void 0===d?0:d,f=l.end,h=void 0===f?0:f;e.beginPath();var p=U(i,o);n=Math.sin(p)*(r+m),a=Math.cos(p)*(r+m),e.moveTo(Math.floor(n),Math.floor(a)),n=Math.sin(p)*(r+h),a=Math.cos(p)*(r+h),e.lineTo(Math.floor(n),Math.floor(a)),e.lineWidth=u,e.stroke()},R=function(e,t){var n=t.radius;t.taskList.map((function(e){var t=e.start,n=e.end;return{color:e.color,label:e.name,imgUrl:e.imgUrl,start:24/(t.getHours()+t.getMinutes()/60),end:24/(n.getHours()+n.getMinutes()/60)}})).forEach((function(t){!function(e,t){var n=t.radius;e.beginPath(),e.fillStyle="",t.color&&(e.fillStyle=t.color),e.scale(1,1),e.moveTo(0,0);var a=(t.start?2*Math.PI/t.start:0)-2*Math.PI/360*90,r=(t.end?2*Math.PI/t.end:0)-2*Math.PI/360*90;if(e.arc(0,0,n,a,r,!1),e.closePath(),e.fill(),t.imgUrl){var i=document.getElementById(t.imgUrl);i||((i=document.createElement("img")).src=t.imgUrl,i.id=t.imgUrl||"",document.getElementById("img-container").appendChild(i))}}(e,{radius:.7*n,start:t.start,end:t.end,imgUrl:t.imgUrl,color:t.color})})),e.beginPath(),e.arc(0,0,5,0,2*Math.PI),e.closePath(),e.fill();var a=new Date,r=a.getSeconds(),i=a.getMinutes()+r/60,o=a.getHours()+i/60;N(e,{radius:n,parts:24,postion:o,offset:{start:1.03*-n,end:.4*-n},lineWidth:2}),N(e,{radius:n,parts:60,postion:i,offset:{start:1.05*-n,end:.2*-n},lineWidth:1}),N(e,{radius:n,parts:60,postion:r,offset:{start:1.1*-n,end:.1*n},lineWidth:.2})},H=function(e){var t=e.data;return Object(a.useEffect)((function(){var e,n=document.querySelector(".clock-canvas")||document.createElement("canvas"),a=n.getContext("2d");if(n.width=Math.min(window.innerWidth,window.innerHeight)-20,n.height=Math.min(window.innerWidth,window.innerHeight)-20,a){var r=a.canvas.width,i=a.canvas.height,o=r/2,c=i/2;a.translate(o,c);var l=document.createElement("canvas");l.width=r,l.height=i;var s=l.getContext("2d"),u=Math.min(r,i)/2*.9-20;s&&(s.translate(o,c),function(e,t){q(e,{radius:t.radius,parts:24,size:[-18,-12,3],textOffset:-20}),q(e,{radius:t.radius,parts:60,size:[-4,0],textOffset:20})}(s,{radius:u}));var d=document.createElement("canvas");d.width=r,d.height=i;var m=d.getContext("2d");m&&m.translate(o,c);!function n(){a&&(a.clearRect(-o,-c,2*o,2*c),m&&(m.clearRect(-o,-c,2*o,2*c),R(m,{radius:u,taskList:t})),a.globalCompositeOperation="destination-over",a.drawImage(d,-o,-c),a.drawImage(l,-o,-c)),e=requestAnimationFrame(n)}()}return function(){cancelAnimationFrame(e)}}),[t]),r.a.createElement("div",null,r.a.createElement("div",{id:"img-container",style:{display:"none"}}),r.a.createElement("canvas",{className:"clock-canvas"}))};window._czc=window._czc||[];var L,J=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)([]),d=Object(s.a)(c,2),m=d[0],f=d[1],h=Object(l.g)();return Object(a.useEffect)((function(){Object(k.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:return e.t0=function(e){return Object(I.a)({color:B(e.name,{to:10066329})},e)},e.next=5,e.sent.map(e.t0);case 5:t=e.sent,f(t),o(t.map((function(e){return{name:e.name,color:e.color,imgUrl:"",start:A(e.startDate,e.startTime),end:A(e.endDate,e.endTime)}})));case 8:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",{className:"clock"},r.a.createElement(u.i,{rightContent:r.a.createElement(u.k,{onSelect:function(e){var t=e.props.firstItem;h.push(t)},overlay:[r.a.createElement(u.k.Item,{key:"task-list",firstItem:"/task-list"},"\u8ba1\u5212\u7ba1\u7406")]},r.a.createElement(u.e,{type:"ellipsis"}))},"\u4eca\u65e5\u8ba1\u5212"),r.a.createElement(H,{data:i}),r.a.createElement(V,{data:m}))},K=n(126),Z=[{value:"none",label:"\u65e0"},{value:"day",label:"\u6bcf\u65e5"},{value:"weekday",label:"\u5de5\u4f5c\u65e5"},{value:"weekend",label:"\u5468\u672b"},{value:"other",label:"\u5176\u4ed6"}],$=function(e){return r.a.createElement(u.g.Item,{onClick:function(t){var n=t.target;return"checkbox"===n.type&&(n.value=n.name,e.onChange&&e.onChange(t)),!1}},"\u5faa\u73af\u4efb\u52a1",r.a.createElement(u.g.Item.Brief,null,Z.map((function(t){return r.a.createElement(u.c,{key:t.value,checked:t.value===e.value,name:t.value},t.label)}))))},G=n(127);!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(L||(L={}));var Q=[{value:L.Monday,label:"\u5468\u4e00"},{value:L.Tuesday,label:"\u5468\u4e8c"},{value:L.Wednesday,label:"\u5468\u4e09"},{value:L.Thursday,label:"\u5468\u56db"},{value:L.Friday,label:"\u5468\u4e94"},{value:L.Saturday,label:"\u5468\u516d"},{value:L.Sunday,label:"\u5468\u65e5"}],X=function(e){var t=e.value,n=void 0===t?[]:t;return r.a.createElement(u.g.Item,{onClick:function(t){var a=t.target;if("checkbox"===a.type&&(a.value=a.name,"other"===e.repeatType)){var r=a.name,i=a.checked,o=n.indexOf(r),c=Object(G.a)(n);i&&-1===o&&c.push(r),!i&&o>-1&&c.splice(o,1),a.value=c,e.onChange&&e.onChange(c)}}},r.a.createElement(u.g.Item.Brief,null,Q.map((function(e){return r.a.createElement(u.c,{key:e.value,checked:n.indexOf(e.value)>-1,name:e.value},e.label)}))))},ee=n(29),te=function(e){var t,n=e.value,a=void 0===n?[540,600]:n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.g.Item,{extra:r.a.createElement("div",null,_(a[0])," - ",_(a[1]))},"\u65f6\u95f4\u6bb5"),r.a.createElement(u.g.Item,null,r.a.createElement("div",{style:{padding:20,paddingBottom:40}},r.a.createElement(u.l,Object.assign({min:360,max:1260,step:5,defaultValue:a},{marks:(t={},Object(ee.a)(t,360,"06:00"),Object(ee.a)(t,540,"09:00"),Object(ee.a)(t,720,"12:00"),Object(ee.a)(t,900,"15:00"),Object(ee.a)(t,1080,"18:00"),Object(ee.a)(t,1260,"21:00"),t)},{onChange:function(t){return e.onChange(t)}})))))},ne=function(e){var t=e.value,n=e.onChange,i=Object(a.useState)(!1),o=Object(s.a)(i,2),c=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.g.Item,{arrow:"horizontal",extra:r.a.createElement("div",null,Y()(t[0]).format("YYYY-MM-DD"),t[1]&&t[1]>t[0]?r.a.createElement("div",null,Y()(t[1]).format("YYYY-MM-DD")):null),onClick:function(){l(!0)}},"\u65e5\u671f"),r.a.createElement(u.b,{visible:c,onCancel:function(){l(!1)},onConfirm:function(e,t){l(!1),n([Y()(e).format("YYYYMMDD"),Y()(t).format("YYYYMMDD")])},showShortcut:!0,type:"range",defaultValue:[Y()(t[0]).toDate(),Y()(t[1]).toDate()]}))},ae=Object(K.a)()((function(e){var t=e.form,n=e.task,a=t.getFieldProps,i=t.getFieldsValue,o=t.getFieldError,c=t.setFieldsValue,l=t.validateFields;a("startTime",{initialValue:n.startTime}),a("endTime",{initialValue:n.endTime}),a("startDate",{initialValue:n.startDate}),a("endDate",{initialValue:n.endDate});var s=i(["name","repeatType","repeatDays","startDate","endDate","startTime","endTime"]);return r.a.createElement("div",{style:{minHeight:500,backgroundColor:"#FFF",marginBottom:30,display:"flex",flexDirection:"column",justifyContent:"space-between"}},r.a.createElement(u.g,{style:{}},r.a.createElement(u.f,Object.assign({placeholder:"\u8f93\u5165\u4efb\u52a1\u540d\u79f0"},a("name",{initialValue:n.name,rules:[{required:!0}]}),{error:!!o("name"),onErrorClick:function(){u.s.info(o("name"))}}),"\u4efb\u52a1\u540d\u79f0"),r.a.createElement($,a("repeatType",{initialValue:n.repeatType,getValueFromEvent:function(e){return e.target.name},onChange:function(e){var t;switch(e.target.name){case"day":t=[L.Monday,L.Tuesday,L.Wednesday,L.Thursday,L.Friday,L.Saturday,L.Sunday];break;case"weekday":t=[L.Monday,L.Tuesday,L.Wednesday,L.Thursday,L.Friday];break;case"weekend":t=[L.Thursday,L.Friday];break;default:t=[]}c({repeatDays:t})}})),r.a.createElement(X,Object.assign({repeatType:s.repeatType||n.repeatType},a("repeatDays",{initialValue:n.repeatDays}))),r.a.createElement(ne,{value:[s.startDate,s.endDate],onChange:function(e){c({startDate:e[0],endDate:e[1]})}}),r.a.createElement(te,{value:[s.startTime||n.startTime,s.endTime||n.endTime],onChange:function(e){c({startTime:e[0],endTime:e[1]})}})),r.a.createElement(u.a,{style:{margin:20},type:"primary",onClick:function(){l((function(t,a){t||(console.log(Object(I.a)({},n,{},a)),e.onSubmit(Object(I.a)({},n,{},a)))}))}},"\u4fdd\u5b58"))})),re={name:"",repeatDays:[],repeatType:"none",startTime:540,endTime:600,startDate:Y()(new Date).format("YYYYMMDD"),endDate:Y()(new Date).format("YYYYMMDD")},ie=function(e){var t=Object(l.g)(),n=Object(a.useState)(!1),i=Object(s.a)(n,2),o=i[0],c=i[1],d=Object(a.useState)([]),m=Object(s.a)(d,2),f=m[0],h=m[1],p=Object(a.useState)(0),v=Object(s.a)(p,2),g=v[0],y=v[1],w=Object(a.useState)(re),b=Object(s.a)(w,2),E=b[0],k=b[1];return Object(a.useEffect)((function(){P.load().then((function(e){h(e)}))}),[g,o]),r.a.createElement("div",null,r.a.createElement(u.d,{open:o,position:"bottom",onOpenChange:function(){return c(!o)},sidebar:o?r.a.createElement(ae,{task:E,onSubmit:function(e){!function(e){e.id?P.update(e):P.add(e)}(e),c(!1)},onCancel:function(){return c(!1)}}):null},r.a.createElement(u.i,{leftContent:r.a.createElement(u.e,{type:"left",onClick:function(){t.goBack()}})},"\u8ba1\u5212\u7ba1\u7406"),r.a.createElement("div",null,r.a.createElement(u.a,{onClick:function(){k(re),c(!0)}},"\u6dfb\u52a0\u8ba1\u5212"),r.a.createElement(u.g,null,f.map((function(e){return r.a.createElement(u.o,{key:e.id,right:[{text:"\u4fee\u6539",onPress:function(){k(e),c(!0)},style:{color:"#FFF",fontWeight:"bolder",padding:"10px 20px",backgroundColor:"#108ee9"}},{text:"\u5220\u9664",onPress:function(){var t;t=e.id,P.remove(t),y(g+1)},style:{color:"#FFF",fontWeight:"bolder",padding:"10px 20px",backgroundColor:"red"}}]},r.a.createElement(u.g.Item,{multipleLine:!0,align:"top"},e.name,r.a.createElement(u.g.Item.Brief,null,Y()(e.startDate).format("YYYY-MM-DD"),"none"!==e.repeatType?" - ".concat(Y()(e.endDate).format("YYYY-MM-DD")):null,"\xa0","".concat(_(e.startTime),"-").concat(_(e.endTime))),r.a.createElement(u.g.Item.Brief,null,"day"===e.repeatType?r.a.createElement(u.q,{selected:!0},"\u6bcf\u5929"):null,"weekday"===e.repeatType?r.a.createElement(u.q,{selected:!0},"\u5de5\u4f5c\u65e5"):null,"weekend"===e.repeatType?r.a.createElement(u.q,{selected:!0},"\u5468\u672b"):null,"other"===e.repeatType?e.repeatDays.map((function(e){return r.a.createElement(u.q,{selected:!0,key:e},e)})):null)))}))),e.children)))};window._czc=window._czc||[];var oe=function(){return r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(l.a,{exact:!0,path:"/",to:"/task-clock"}),r.a.createElement(l.b,{path:"/",children:function(e){return r.a.createElement(M,e,r.a.createElement(l.b,{path:"/hanzi",component:O}),r.a.createElement(l.b,{path:"/task-list",component:ie}),r.a.createElement(l.b,{path:"/setting",component:T}),r.a.createElement(l.b,{path:"/task-clock",component:J}),r.a.createElement(l.b,{path:"/inspect",component:C}))}}))))},ce=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.update(),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(oe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");ce?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):le(t,e)}))}}()}},[[128,1,2]]]);
//# sourceMappingURL=main.26e517be.chunk.js.map